<div class="row ng-section">
    <div class="col-md-12 custom-header" (click)="toggleFormCollapse()" role="button">

        <h2><mat-icon>menu</mat-icon>City Details</h2>
    </div>
</div>
<!-- <div class="container my-2">
    <div class="row">
      <div class="col-md-12 custom-header" (click)="toggleFormCollapse()" role="button">
        <h2><mat-icon>menu</mat-icon>City Details</h2>
      </div>
    </div> -->

<div class="row" *ngIf="isFormCollapsed" style="width: 100%;">
    <div class="col-md-12 pan1">

        <form [formGroup]="form">

            <div class="container" formGroupName="generalInfo">
                <div class="row justify-content-center" style="margin-top: 2%;">
                    <div class="col-md-4">
                        <!-- <div class="row mb-4" formGroupName="generalInfo">
                            <div class="col-md-4">
                              <div class="form-group text-center">
                                <mat-label for="cityName" class="mb-0">City Name<span>&nbsp;*</span></mat-label>
                              </div>
                            </div>
                            <div class="col-md-8">
                              <mat-form-field class="City">
                                <mat-icon class="input-icon">info</mat-icon>
                                <input matInput placeholder="City Name" formControlName="cityName">
                                <mat-error *ngIf="form.get('generalInfo.cityName')?.hasError('required')">Please enter city name</mat-error>
                                <mat-error *ngIf="form.get('generalInfo.cityName')?.hasError('pattern')">Please enter valid alphanumeric characters</mat-error>
                              </mat-form-field>
                            </div>
                          </div> -->
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center">
                                    <mat-label for="cityName" class="mb-0">City Name<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-form-field class="City" >
                                    <mat-icon class="input-icon">info</mat-icon>
                                    <input matInput placeholder=" City Name" formControlName="cityName" required minlength="1" maxlength="50">
                                    <!-- {{form.get('generalInfo.cityName')?.hasError('pattern')}} -->
                                    <mat-error *ngIf="form.get('generalInfo.cityName')?.hasError('pattern')">City Name must be alphanumeric</mat-error>
                                        <mat-error *ngIf="form.get('generalInfo.cityName')?.hasError('required')">City Name is required</mat-error>
                                        <mat-error *ngIf="form.get('generalInfo.cityName')?.hasError('minlength')">Minimum length is 1 character</mat-error>
                                        <mat-error *ngIf="form.get('generalInfo.cityName')?.hasError('maxlength')">Maximum length is 50 characters</mat-error>
                                    
                                </mat-form-field>
                            </div>
                        </div> 

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="state" class="mb-0">State<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-form-field class="Customer" >
                                    <mat-select id="allowedUsers" formControlName="state" placeholder="state">
                                        <mat-option value="ifsc1">1</mat-option>
                                        <mat-option value="ifsc2"> 2</mat-option>
                                        <mat-option value="ifsc3"> 3</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="form.get('generalInfo.state')?.invalid">State is
                                        required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="sequence" class="mb-0">Sequence<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-form-field >
                                    <input matInput placeholder="Sequence" formControlName="sequence">
                                    <mat-error *ngIf="form.get('generalInfo.sequence')?.invalid">Sequence is
                                        required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="isRestricted" class="mb-0">Is
                                        Excluded<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-radio-group formControlName="isRestricted">
                                    <mat-radio-button value="true">Yes</mat-radio-button>
                                    <mat-radio-button value="false">No</mat-radio-button>
                                </mat-radio-group>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="anchorTag" class="mb-0">Anchor Tag</mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-checkbox formControlName="anchorTag">Anchor Tag</mat-checkbox>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="cityCode" class="mb-0">City Code<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-form-field class="Customer" >
                                    <mat-icon class="input-icon">info</mat-icon>
                                    <input matInput placeholder="Please enter city code" formControlName="cityCode" required minlength="1" maxlength="20" >
                                    <mat-error *ngIf="form.get('generalInfo.cityCode')?.hasError('required')">City code is required</mat-error>
                                    <mat-error *ngIf="form.get('generalInfo.cityCode')?.hasError('minlength')">Minimum length is 1 character</mat-error>
                                    <mat-error *ngIf="form.get('generalInfo.cityCode')?.hasError('maxlength')">Maximum length is 20 characters</mat-error>
                                </mat-form-field>

                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="allowedUsers" class="mb-0">Region
                                        <span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-form-field >
                                    <mat-select id="region" formControlName="region" placeholder="Region">
                                        <mat-option value="ifsc1">Region 1</mat-option>
                                        <mat-option value="ifsc2">Region 2</mat-option>
                                        <mat-option value="ifsc3">Region 3</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="form.get('generalInfo.region')?.invalid">Please select
                                        option
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="target" class="mb-0">Target in Cr<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-form-field >
                                    <mat-icon class="input-icon">info</mat-icon>
                                    <input matInput placeholder="Target in Cr*" formControlName="target" required minlength="1" maxlength="9">
                                    <mat-error *ngIf="form.get('generalInfo.target')?.invalid">Target in Cr is
                                        required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="toDate" class="mb-0">From Date<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-form-field >
                                    <input matInput [matDatepicker]="fromDate" placeholder="From Date*"
                                        formControlName="fromDate">
                                    <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
                                    <mat-datepicker #fromDate></mat-datepicker>
                                    <mat-error *ngIf="form.get('generalInfo.toDate')?.invalid">from Date is
                                        required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="status" class="mb-0">Status<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-slide-toggle formControlName="status"></mat-slide-toggle>
                            </div>
                        </div>
             
                    </div>

                    <div class="col-md-4">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="description"
                                        class="mb-0">Description<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-form-field >
                                    <mat-icon class="input-icon">info</mat-icon>
                                    <input matInput placeholder="Description" formControlName="description" required minlength="1" maxlength="50" >
                                    <mat-error *ngIf="form.get('generalInfo.description')?.invalid">Description is
                                        required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center">
                                    <mat-label for="description" class="mb-0">Country<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-form-field class="Customer">
                                    <mat-select id="country" formControlName="country"
                                        placeholder="Please select country">
                                        <mat-option value="ifsc1">India</mat-option>
                                        <mat-option value="ifsc2">US</mat-option>
                                        <mat-option value="ifsc3">UK</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="form.get('generalInfo.country')?.invalid">Country is
                                        required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="isExcluded" class="mb-0">Is Restricted: </mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-radio-group formControlName="isExcluded">
                                    <mat-radio-button value="true">Yes</mat-radio-button>
                                    <mat-radio-button value="false">No</mat-radio-button>
                                </mat-radio-group>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group text-center ">
                                    <mat-label for="toDate" class="mb-0">To Date<span>&nbsp;*</span></mat-label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <mat-form-field >
                                    <input matInput [matDatepicker]="toDate" placeholder="To Date*"
                                        formControlName="toDate">
                                    <mat-datepicker-toggle matSuffix [for]="toDate"></mat-datepicker-toggle>
                                    <mat-datepicker #toDate></mat-datepicker>
                                    <mat-error *ngIf="form.get('generalInfo.toDate')?.invalid">To Date is
                                        required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-end mt-3" style="margin-bottom: 2%;">
                <div class="col-md-4">
                  <button mat-raised-button-disabled (click)="saveForm()">Save</button>
                  <button mat-button (click)="saveAndContinueForm()">Save and Continue</button>
                  <button mat-button (click)="goBack()">Back</button>
                </div>
            </div>
        </form>
    </div>
</div>